<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <title>Pong Game</title>
  <style>
    body {
      margin: 0;
      font-family: "Century Gothic";
      font-size: 16px;
    }
    #container {
      text-align: center;
      margin: 5px auto;
    }
    #mycanvas {
      background: #AAEDFF;
    }
    #btn {
      margin: 3px auto;
      width: 200px;
      padding: 5px;
      background: #00AAFF;
      color: #FFFFFF;
      border-radius: 3px;
      cu1rsor: pointer;
    }
    #btn:hover {
      opacity: 0.8;
    }
  </style>
</head>
<body>
  <div id="container">
    <canvas id="mycanvas" width="280" height="280">
      Canvas に対応したブラウザを用意してください
    </canvas>
    <div id="btn">START</div>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script>
  $(function(){
    var ctx;
    var mouseX;

    var canvas = document.getElementById('mycanvas');
    if (!canvas || !canvas.getContext) {
      return false;
    }
    ctx = canvas.getContext('2d');

    var Paddle = function(w, h){
      this.w = w;
      this.h = h;
      this.x = canvas.width / 2;
      this.y = canvas.height - 30;
      this.draw = function() {
        ctx.fillStyle = '#00AAFF';
        ctx.fillRect(this.x - this.w / 2, this.y, this.w, this.h);
      };
      this.move = function() {
        this.x = mouseX - $('#mycanvas').offset().left;
      }

    }
    var myPaddle = new Paddle(100, 10);

    function clearStage() {
      ctx.fillStyle = '#AAEDFF';
      ctx.fillRect(0, 0, canvas.width, canvas.height);
    }

    function update() {
      clearStage();
      myPaddle.draw();
      myPaddle.move();
      setTimeout(function(){
        update();
      }, 30);
    }
    update();

    $('body').mousemove(function(e){
      mouseX = e.pageX;
    });


  });
</script>
</body>

</html>
